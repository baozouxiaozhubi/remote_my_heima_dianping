2025-01-29 14:25:08.512  INFO 34756 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 34756 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 14:25:08.516 DEBUG 34756 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 14:25:08.517  INFO 34756 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 14:25:08.945  INFO 34756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 14:25:08.946  INFO 34756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 14:25:08.965  INFO 34756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 14:25:09.266  INFO 34756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 14:25:09.271  INFO 34756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 14:25:09.272  INFO 34756 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 14:25:09.324  INFO 34756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 14:25:09.324  INFO 34756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 780 ms
2025-01-29 14:25:10.696  INFO 34756 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 14:25:10.881  INFO 34756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 14:25:10.886  INFO 34756 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.616 seconds (JVM running for 3.235)
2025-01-29 14:37:17.716  INFO 36148 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 36148 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 14:37:17.718 DEBUG 36148 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 14:37:17.718  INFO 36148 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 14:37:18.084  INFO 36148 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 14:37:18.085  INFO 36148 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 14:37:18.102  INFO 36148 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 14:37:18.406  INFO 36148 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 14:37:18.412  INFO 36148 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 14:37:18.412  INFO 36148 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 14:37:18.464  INFO 36148 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 14:37:18.464  INFO 36148 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 722 ms
2025-01-29 14:37:19.792  INFO 36148 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 14:37:19.964  INFO 36148 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 14:37:19.970  INFO 36148 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.48 seconds (JVM running for 3.037)
2025-01-29 14:37:27.158  INFO 36148 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 14:37:27.158  INFO 36148 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 14:37:27.162  INFO 36148 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-01-29 14:37:27.794  INFO 36148 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 14:37:28.356  INFO 36148 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 14:37:28.360 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==>  Preparing: SELECT id,name,icon,sort,create_time,update_time FROM tb_shop_type
2025-01-29 14:37:28.371 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==> Parameters: 
2025-01-29 14:37:28.445 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : <==      Total: 10
2025-01-29 14:37:33.940 DEBUG 36148 --- [http-nio-8081-exec-4] com.hsj.hmdp.service.IUserServiceImpl    : 验证码成功生成，为：662621
2025-01-29 14:37:37.543 DEBUG 36148 --- [http-nio-8081-exec-3] com.hsj.hmdp.dao.UserMapper.selectOne    : ==>  Preparing: SELECT id,phone,password,nick_name,icon,create_time,update_time FROM tb_user WHERE (phone = ?)
2025-01-29 14:37:37.544 DEBUG 36148 --- [http-nio-8081-exec-3] com.hsj.hmdp.dao.UserMapper.selectOne    : ==> Parameters: 18050285529(String)
2025-01-29 14:37:37.609 DEBUG 36148 --- [http-nio-8081-exec-3] com.hsj.hmdp.dao.UserMapper.selectOne    : <==      Total: 1
2025-01-29 14:37:41.963 DEBUG 36148 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 14:37:41.963 DEBUG 36148 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 14:37:42.009 DEBUG 36148 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 14:37:42.820 DEBUG 36148 --- [http-nio-8081-exec-9] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 14:37:42.821 DEBUG 36148 --- [http-nio-8081-exec-9] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 14:37:42.853 DEBUG 36148 --- [http-nio-8081-exec-10] com.hsj.hmdp.dao.ShopMapper.selectById   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE id=?
2025-01-29 14:37:42.854 DEBUG 36148 --- [http-nio-8081-exec-10] com.hsj.hmdp.dao.ShopMapper.selectById   : ==> Parameters: 1(Long)
2025-01-29 14:37:42.859 DEBUG 36148 --- [http-nio-8081-exec-9] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 14:37:42.889 DEBUG 36148 --- [http-nio-8081-exec-10] com.hsj.hmdp.dao.ShopMapper.selectById   : <==      Total: 1
2025-01-29 14:37:43.993 DEBUG 36148 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 14:37:43.993 DEBUG 36148 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 14:37:44.028 DEBUG 36148 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 14:37:44.038 ERROR 36148 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.hsj.hmdp.utils.SimpleRedisLock.tryLock(SimpleRedisLock.java:32) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl.seckillVoucher(IVoucherOrderServiceImpl.java:59) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$FastClassBySpringCGLIB$$3a427786.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$EnhancerBySpringCGLIB$$ada55356.seckillVoucher(<generated>) ~[classes/:na]
	at com.hsj.hmdp.controller.VoucherOrderController.seckillVoucher(VoucherOrderController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]

2025-01-29 14:38:28.674 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 14:38:28.674 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 14:38:28.714 DEBUG 36148 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 14:38:28.714 ERROR 36148 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.hsj.hmdp.utils.SimpleRedisLock.tryLock(SimpleRedisLock.java:32) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl.seckillVoucher(IVoucherOrderServiceImpl.java:59) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$FastClassBySpringCGLIB$$3a427786.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$EnhancerBySpringCGLIB$$ada55356.seckillVoucher(<generated>) ~[classes/:na]
	at com.hsj.hmdp.controller.VoucherOrderController.seckillVoucher(VoucherOrderController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]

2025-01-29 14:39:00.834  INFO 36148 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 14:39:00.834  INFO 36148 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 14:39:00.838  INFO 36148 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 14:39:26.059  INFO 17896 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 17896 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 14:39:26.061 DEBUG 17896 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 14:39:26.061  INFO 17896 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 14:39:26.477  INFO 17896 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 14:39:26.478  INFO 17896 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 14:39:26.496  INFO 17896 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2025-01-29 14:39:26.809  INFO 17896 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 14:39:26.815  INFO 17896 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 14:39:26.815  INFO 17896 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 14:39:26.870  INFO 17896 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 14:39:26.870  INFO 17896 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 784 ms
2025-01-29 14:39:28.268  INFO 17896 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 14:39:28.465  INFO 17896 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 14:39:28.472  INFO 17896 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.67 seconds (JVM running for 3.314)
2025-01-29 14:39:30.965  INFO 17896 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 14:39:30.965  INFO 17896 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 14:39:30.969  INFO 17896 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 14:39:31.638  INFO 17896 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 14:39:32.095  INFO 17896 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 14:39:32.100 DEBUG 17896 --- [http-nio-8081-exec-2] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 14:39:32.111 DEBUG 17896 --- [http-nio-8081-exec-2] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 14:39:32.152 DEBUG 17896 --- [http-nio-8081-exec-2] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 14:39:33.154 DEBUG 17896 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 14:39:33.154 DEBUG 17896 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 14:39:33.191 DEBUG 17896 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 14:39:33.198 ERROR 17896 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.hsj.hmdp.utils.SimpleRedisLock.tryLock(SimpleRedisLock.java:33) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl.seckillVoucher(IVoucherOrderServiceImpl.java:59) ~[classes/:na]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$FastClassBySpringCGLIB$$3a427786.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at com.hsj.hmdp.service.IVoucherOrderServiceImpl$$EnhancerBySpringCGLIB$$1df4ddda.seckillVoucher(<generated>) ~[classes/:na]
	at com.hsj.hmdp.controller.VoucherOrderController.seckillVoucher(VoucherOrderController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.46.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.15.RELEASE.jar:5.2.15.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.46.jar:9.0.46]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]

2025-01-29 14:39:38.139  INFO 17896 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 14:39:38.140  INFO 17896 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 14:39:38.144  INFO 17896 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 14:40:42.054  INFO 21404 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 21404 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 14:40:42.055 DEBUG 21404 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 14:40:42.056  INFO 21404 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 14:40:42.432  INFO 21404 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 14:40:42.433  INFO 21404 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 14:40:42.450  INFO 21404 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 14:40:42.738  INFO 21404 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 14:40:42.742  INFO 21404 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 14:40:42.743  INFO 21404 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 14:40:42.792  INFO 21404 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 14:40:42.792  INFO 21404 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 710 ms
2025-01-29 14:40:44.114  INFO 21404 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 14:40:44.333  INFO 21404 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 14:40:44.339  INFO 21404 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.508 seconds (JVM running for 3.05)
2025-01-29 14:40:46.486  INFO 21404 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 14:40:46.486  INFO 21404 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 14:40:46.490  INFO 21404 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 14:40:47.134  INFO 21404 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 14:40:47.625  INFO 21404 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 14:40:47.629 DEBUG 21404 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 14:40:47.639 DEBUG 21404 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 14:40:47.689 DEBUG 21404 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 14:40:48.484 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 14:40:48.484 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 14:40:48.522 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 14:40:48.621 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 14:40:48.622 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 14:40:48.652 DEBUG 21404 --- [http-nio-8081-exec-3] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 14:40:56.352  INFO 21404 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 14:40:56.353  INFO 21404 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 14:40:56.356  INFO 21404 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 16:46:08.532  INFO 2224 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 2224 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:46:08.533 DEBUG 2224 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:46:08.534  INFO 2224 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:46:08.984  INFO 2224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:46:08.986  INFO 2224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:46:09.005  INFO 2224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 16:46:09.335  INFO 2224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:46:09.342  INFO 2224 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:46:09.343  INFO 2224 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:46:09.393  INFO 2224 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:46:09.393  INFO 2224 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 834 ms
2025-01-29 16:46:10.779  INFO 2224 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:46:10.979  INFO 2224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:46:10.985  INFO 2224 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.713 seconds (JVM running for 3.361)
2025-01-29 16:46:22.248  INFO 2224 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 16:46:24.142  INFO 12596 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 12596 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:46:24.144 DEBUG 12596 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:46:24.144  INFO 12596 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:46:24.523  INFO 12596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:46:24.525  INFO 12596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:46:24.541  INFO 12596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 16:46:24.841  INFO 12596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:46:24.845  INFO 12596 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:46:24.845  INFO 12596 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:46:24.894  INFO 12596 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:46:24.895  INFO 12596 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 727 ms
2025-01-29 16:46:26.152  INFO 12596 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:46:26.337  INFO 12596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:46:26.345  INFO 12596 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.436 seconds (JVM running for 2.997)
2025-01-29 16:46:52.825  INFO 12596 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:46:52.826  INFO 12596 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:46:52.830  INFO 12596 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 16:46:53.485  INFO 12596 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:46:54.028  INFO 12596 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:46:54.032 DEBUG 12596 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==>  Preparing: SELECT id,name,icon,sort,create_time,update_time FROM tb_shop_type
2025-01-29 16:46:54.044 DEBUG 12596 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==> Parameters: 
2025-01-29 16:46:54.091 DEBUG 12596 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : <==      Total: 10
2025-01-29 16:46:56.681 DEBUG 12596 --- [http-nio-8081-exec-6] com.hsj.hmdp.service.IUserServiceImpl    : 验证码成功生成，为：828502
2025-01-29 16:47:01.013 DEBUG 12596 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : ==>  Preparing: SELECT id,phone,password,nick_name,icon,create_time,update_time FROM tb_user WHERE (phone = ?)
2025-01-29 16:47:01.014 DEBUG 12596 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : ==> Parameters: 18050285529(String)
2025-01-29 16:47:01.047 DEBUG 12596 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : <==      Total: 1
2025-01-29 16:47:02.577 DEBUG 12596 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 16:47:02.578 DEBUG 12596 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 16:47:02.628 DEBUG 12596 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 16:47:03.385 DEBUG 12596 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:47:03.385 DEBUG 12596 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:47:03.424 DEBUG 12596 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:47:03.442 DEBUG 12596 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE id=?
2025-01-29 16:47:03.443 DEBUG 12596 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==> Parameters: 1(Long)
2025-01-29 16:47:03.482 DEBUG 12596 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : <==      Total: 1
2025-01-29 16:47:04.622 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:47:04.623 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:47:04.658 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:47:04.740 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 16:47:04.740 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 16:47:04.772 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 16:47:04.773 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==>  Preparing: UPDATE tb_seckill_voucher SET stock = stock- 1 WHERE voucher_id = ? AND stock > 0
2025-01-29 16:47:04.773 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==> Parameters: 10(Long)
2025-01-29 16:47:04.942 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : <==    Updates: 1
2025-01-29 16:47:04.980 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==>  Preparing: INSERT INTO tb_voucher_order ( id, user_id, voucher_id, create_time, update_time ) VALUES ( ?, ?, ?, ?, ? )
2025-01-29 16:47:04.981 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==> Parameters: 688622517568405505(Long), 1016(Long), 10(Long), 2025-01-29T16:47:04.980(LocalDateTime), 2025-01-29T16:47:04.980(LocalDateTime)
2025-01-29 16:47:05.054 DEBUG 12596 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : <==    Updates: 1
2025-01-29 16:47:05.308 ERROR 12596 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR user_script:2: Script attempted to access nonexistent global variable 'KEY' script: 0d47f0530c40d9341985116bb27eeb393ccf79e8, on @user_script:2.] with root cause

io.lettuce.core.RedisCommandExecutionException: ERR user_script:2: Script attempted to access nonexistent global variable 'KEY' script: 0d47f0530c40d9341985116bb27eeb393ccf79e8, on @user_script:2.
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:746) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:681) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:598) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]

2025-01-29 16:47:57.178  INFO 12596 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 16:47:57.179  INFO 12596 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 16:47:57.183  INFO 12596 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 16:47:59.259  INFO 19308 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 19308 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:47:59.261 DEBUG 19308 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:47:59.262  INFO 19308 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:47:59.644  INFO 19308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:47:59.645  INFO 19308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:47:59.663  INFO 19308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 16:47:59.953  INFO 19308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:47:59.958  INFO 19308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:47:59.958  INFO 19308 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:48:00.007  INFO 19308 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:48:00.007  INFO 19308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 722 ms
2025-01-29 16:48:01.295  INFO 19308 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:48:01.477  INFO 19308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:48:01.484  INFO 19308 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.449 seconds (JVM running for 3.028)
2025-01-29 16:48:05.728  INFO 19308 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:48:05.728  INFO 19308 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:48:05.733  INFO 19308 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-01-29 16:48:06.361  INFO 19308 --- [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:48:06.873  INFO 19308 --- [http-nio-8081-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:48:06.877 DEBUG 19308 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:48:06.887 DEBUG 19308 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:48:06.939 DEBUG 19308 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:48:07.973 DEBUG 19308 --- [http-nio-8081-exec-4] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:48:07.974 DEBUG 19308 --- [http-nio-8081-exec-4] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:48:08.019 DEBUG 19308 --- [http-nio-8081-exec-4] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:48:33.945 DEBUG 19308 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:48:33.946 DEBUG 19308 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:48:33.984 DEBUG 19308 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:48:42.863  INFO 19308 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 16:48:42.864  INFO 19308 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 16:48:42.866  INFO 19308 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 16:48:44.937  INFO 4568 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 4568 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:48:44.939 DEBUG 4568 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:48:44.939  INFO 4568 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:48:45.330  INFO 4568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:48:45.331  INFO 4568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:48:45.347  INFO 4568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 16:48:45.638  INFO 4568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:48:45.643  INFO 4568 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:48:45.644  INFO 4568 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:48:45.695  INFO 4568 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:48:45.696  INFO 4568 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 733 ms
2025-01-29 16:48:47.107  INFO 4568 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:48:47.317  INFO 4568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:48:47.324  INFO 4568 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.627 seconds (JVM running for 3.215)
2025-01-29 16:48:50.029  INFO 4568 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:48:50.030  INFO 4568 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:48:50.034  INFO 4568 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 16:48:50.664  INFO 4568 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:48:51.179  INFO 4568 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:48:51.183 DEBUG 4568 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:48:51.194 DEBUG 4568 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:48:51.272 DEBUG 4568 --- [http-nio-8081-exec-1] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:48:52.574 DEBUG 4568 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:48:52.574 DEBUG 4568 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:48:52.607 DEBUG 4568 --- [http-nio-8081-exec-3] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:49:08.819  INFO 4568 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 16:49:08.820  INFO 4568 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 16:49:08.823  INFO 4568 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 16:49:14.021  INFO 5612 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 5612 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:49:14.023 DEBUG 5612 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:49:14.023  INFO 5612 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:49:14.400  INFO 5612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:49:14.401  INFO 5612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:49:14.417  INFO 5612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 16:49:14.705  INFO 5612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:49:14.711  INFO 5612 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:49:14.711  INFO 5612 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:49:14.759  INFO 5612 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:49:14.759  INFO 5612 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 713 ms
2025-01-29 16:49:16.027  INFO 5612 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:49:16.201  INFO 5612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:49:16.208  INFO 5612 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.414 seconds (JVM running for 2.978)
2025-01-29 16:49:31.245  INFO 5612 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:49:31.245  INFO 5612 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:49:31.249  INFO 5612 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 16:49:32.911  INFO 5612 --- [http-nio-8081-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:49:33.471  INFO 5612 --- [http-nio-8081-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:49:33.476 DEBUG 5612 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 16:49:33.489 DEBUG 5612 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 16:49:33.567 DEBUG 5612 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 16:49:34.533 DEBUG 5612 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:49:34.534 DEBUG 5612 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:49:34.576 DEBUG 5612 --- [http-nio-8081-exec-3] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:49:35.906 DEBUG 5612 --- [http-nio-8081-exec-7] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:49:35.906 DEBUG 5612 --- [http-nio-8081-exec-7] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:49:35.943 DEBUG 5612 --- [http-nio-8081-exec-7] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:49:58.844 DEBUG 5612 --- [http-nio-8081-exec-8] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:49:58.844 DEBUG 5612 --- [http-nio-8081-exec-8] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:49:58.879 DEBUG 5612 --- [http-nio-8081-exec-8] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:53:37.876  INFO 5080 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 5080 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:53:37.878 DEBUG 5080 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:53:37.878  INFO 5080 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:53:38.267  INFO 5080 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:53:38.269  INFO 5080 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:53:38.286  INFO 5080 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 16:53:38.582  INFO 5080 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:53:38.588  INFO 5080 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:53:38.588  INFO 5080 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:53:38.639  INFO 5080 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:53:38.640  INFO 5080 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 738 ms
2025-01-29 16:53:39.983  INFO 5080 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:53:40.200  INFO 5080 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:53:40.209  INFO 5080 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.568 seconds (JVM running for 3.119)
2025-01-29 16:53:43.983  INFO 5080 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:53:43.983  INFO 5080 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:53:43.987  INFO 5080 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 16:53:44.645  INFO 5080 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:53:45.153  INFO 5080 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:53:45.158 DEBUG 5080 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==>  Preparing: SELECT id,name,icon,sort,create_time,update_time FROM tb_shop_type
2025-01-29 16:53:45.171 DEBUG 5080 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==> Parameters: 
2025-01-29 16:53:45.236 DEBUG 5080 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : <==      Total: 10
2025-01-29 16:53:53.347 DEBUG 5080 --- [http-nio-8081-exec-5] com.hsj.hmdp.service.IUserServiceImpl    : 验证码成功生成，为：450156
2025-01-29 16:54:00.848 DEBUG 5080 --- [http-nio-8081-exec-4] com.hsj.hmdp.dao.UserMapper.selectOne    : ==>  Preparing: SELECT id,phone,password,nick_name,icon,create_time,update_time FROM tb_user WHERE (phone = ?)
2025-01-29 16:54:00.849 DEBUG 5080 --- [http-nio-8081-exec-4] com.hsj.hmdp.dao.UserMapper.selectOne    : ==> Parameters: 18050285529(String)
2025-01-29 16:54:00.886 DEBUG 5080 --- [http-nio-8081-exec-4] com.hsj.hmdp.dao.UserMapper.selectOne    : <==      Total: 1
2025-01-29 16:54:02.286 DEBUG 5080 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 16:54:02.286 DEBUG 5080 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 16:54:02.322 DEBUG 5080 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 16:54:03.217 DEBUG 5080 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:54:03.217 DEBUG 5080 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:54:03.251 DEBUG 5080 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:54:03.253 DEBUG 5080 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE id=?
2025-01-29 16:54:03.253 DEBUG 5080 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==> Parameters: 1(Long)
2025-01-29 16:54:03.308 DEBUG 5080 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : <==      Total: 1
2025-01-29 16:54:04.648 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:54:04.648 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:54:04.681 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:54:04.760 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 16:54:04.761 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 16:54:04.794 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 16:54:04.795 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==>  Preparing: UPDATE tb_seckill_voucher SET stock = stock- 1 WHERE voucher_id = ? AND stock > 0
2025-01-29 16:54:04.795 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==> Parameters: 10(Long)
2025-01-29 16:54:04.867 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : <==    Updates: 1
2025-01-29 16:54:04.901 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==>  Preparing: INSERT INTO tb_voucher_order ( id, user_id, voucher_id, create_time, update_time ) VALUES ( ?, ?, ?, ?, ? )
2025-01-29 16:54:04.902 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==> Parameters: 688624321454669825(Long), 1016(Long), 10(Long), 2025-01-29T16:54:04.901(LocalDateTime), 2025-01-29T16:54:04.901(LocalDateTime)
2025-01-29 16:54:04.966 DEBUG 5080 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : <==    Updates: 1
2025-01-29 16:54:05.129 ERROR 5080 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR user_script:2: Script attempted to access nonexistent global variable 'AEGV' script: 1b49c24a3d8104a238fb2ab73816fa6a3ec4d9e9, on @user_script:2.] with root cause

io.lettuce.core.RedisCommandExecutionException: ERR user_script:2: Script attempted to access nonexistent global variable 'AEGV' script: 1b49c24a3d8104a238fb2ab73816fa6a3ec4d9e9, on @user_script:2.
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:746) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:681) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:598) ~[lettuce-core-6.1.6.RELEASE.jar:6.1.6.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.65.Final.jar:4.1.65.Final]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]

2025-01-29 16:54:21.064  INFO 5080 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 16:54:21.064  INFO 5080 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 16:54:21.077  INFO 5080 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 16:54:54.699  INFO 21420 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 21420 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 16:54:54.701 DEBUG 21420 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 16:54:54.702  INFO 21420 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 16:54:55.100  INFO 21420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 16:54:55.101  INFO 21420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 16:54:55.117  INFO 21420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 16:54:55.404  INFO 21420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 16:54:55.408  INFO 21420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 16:54:55.408  INFO 21420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 16:54:55.456  INFO 21420 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 16:54:55.456  INFO 21420 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 731 ms
2025-01-29 16:54:56.765  INFO 21420 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 16:54:56.939  INFO 21420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 16:54:56.945  INFO 21420 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 2.473 seconds (JVM running for 3.03)
2025-01-29 16:55:00.759  INFO 21420 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 16:55:00.760  INFO 21420 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 16:55:00.765  INFO 21420 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 16:55:01.726  INFO 21420 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 16:55:02.635  INFO 21420 --- [http-nio-8081-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 16:55:02.640 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==>  Preparing: SELECT id,name,icon,sort,create_time,update_time FROM tb_shop_type
2025-01-29 16:55:02.655 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==> Parameters: 
2025-01-29 16:55:02.705 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.ShopTypeMapper.selectList   : <==      Total: 10
2025-01-29 16:55:04.749 DEBUG 21420 --- [http-nio-8081-exec-4] com.hsj.hmdp.service.IUserServiceImpl    : 验证码成功生成，为：591851
2025-01-29 16:55:09.590 DEBUG 21420 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : ==>  Preparing: SELECT id,phone,password,nick_name,icon,create_time,update_time FROM tb_user WHERE (phone = ?)
2025-01-29 16:55:09.591 DEBUG 21420 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : ==> Parameters: 18050285529(String)
2025-01-29 16:55:09.626 DEBUG 21420 --- [http-nio-8081-exec-5] com.hsj.hmdp.dao.UserMapper.selectOne    : <==      Total: 1
2025-01-29 16:55:10.910 DEBUG 21420 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 16:55:10.911 DEBUG 21420 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 16:55:10.949 DEBUG 21420 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 16:55:11.753 DEBUG 21420 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 16:55:11.754 DEBUG 21420 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 16:55:11.793 DEBUG 21420 --- [http-nio-8081-exec-10] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 16:55:11.823 DEBUG 21420 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE id=?
2025-01-29 16:55:11.823 DEBUG 21420 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==> Parameters: 1(Long)
2025-01-29 16:55:11.858 DEBUG 21420 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : <==      Total: 1
2025-01-29 16:55:12.896 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:55:12.896 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:55:12.932 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:55:13.033 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 16:55:13.033 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 16:55:13.066 DEBUG 21420 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 16:55:36.747 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 16:55:36.747 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 16:55:36.778 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 16:55:36.850 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 16:55:36.851 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 16:55:36.911 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 16:55:36.911 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==>  Preparing: UPDATE tb_seckill_voucher SET stock = stock- 1 WHERE voucher_id = ? AND stock > 0
2025-01-29 16:55:36.912 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : ==> Parameters: 10(Long)
2025-01-29 16:55:36.998 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.stock_minus   : <==    Updates: 1
2025-01-29 16:55:37.035 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==>  Preparing: INSERT INTO tb_voucher_order ( id, user_id, voucher_id, create_time, update_time ) VALUES ( ?, ?, ?, ?, ? )
2025-01-29 16:55:37.036 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==> Parameters: 688624716591661057(Long), 1016(Long), 10(Long), 2025-01-29T16:55:37.034(LocalDateTime), 2025-01-29T16:55:37.035(LocalDateTime)
2025-01-29 16:55:37.139 DEBUG 21420 --- [http-nio-8081-exec-2] c.h.hmdp.dao.VoucherOrderMapper.insert   : <==    Updates: 1
2025-01-29 17:59:29.592  INFO 6084 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 6084 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 17:59:29.594 DEBUG 6084 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 17:59:29.594  INFO 6084 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 17:59:29.997  INFO 6084 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 17:59:29.998  INFO 6084 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 17:59:30.015  INFO 6084 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 0 Redis repository interfaces.
2025-01-29 17:59:30.315  INFO 6084 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 17:59:30.319  INFO 6084 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 17:59:30.319  INFO 6084 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 17:59:30.369  INFO 6084 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 17:59:30.370  INFO 6084 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 752 ms
2025-01-29 17:59:31.632  INFO 6084 --- [main] org.redisson.Version                     : Redisson 3.13.6
2025-01-29 17:59:32.042  INFO 6084 --- [redisson-netty-4-17] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for /121.40.226.231:6379
2025-01-29 17:59:32.222  INFO 6084 --- [redisson-netty-4-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for /121.40.226.231:6379
2025-01-29 17:59:32.321  INFO 6084 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 17:59:32.493  INFO 6084 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 17:59:32.499  INFO 6084 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 3.138 seconds (JVM running for 3.692)
2025-01-29 17:59:36.678  INFO 6084 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 17:59:36.678  INFO 6084 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 17:59:36.683  INFO 6084 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-01-29 17:59:36.981  INFO 6084 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 17:59:37.419  INFO 6084 --- [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 17:59:37.424 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==>  Preparing: SELECT id,name,icon,sort,create_time,update_time FROM tb_shop_type
2025-01-29 17:59:37.435 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : ==> Parameters: 
2025-01-29 17:59:37.474 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.ShopTypeMapper.selectList   : <==      Total: 10
2025-01-29 17:59:40.462 DEBUG 6084 --- [http-nio-8081-exec-3] com.hsj.hmdp.service.IUserServiceImpl    : 验证码成功生成，为：882302
2025-01-29 17:59:45.198 DEBUG 6084 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.UserMapper.selectOne    : ==>  Preparing: SELECT id,phone,password,nick_name,icon,create_time,update_time FROM tb_user WHERE (phone = ?)
2025-01-29 17:59:45.198 DEBUG 6084 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.UserMapper.selectOne    : ==> Parameters: 18050285529(String)
2025-01-29 17:59:45.234 DEBUG 6084 --- [http-nio-8081-exec-6] com.hsj.hmdp.dao.UserMapper.selectOne    : <==      Total: 1
2025-01-29 17:59:46.730 DEBUG 6084 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 17:59:46.731 DEBUG 6084 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 17:59:46.762 DEBUG 6084 --- [http-nio-8081-exec-8] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 17:59:47.525 DEBUG 6084 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 17:59:47.525 DEBUG 6084 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 17:59:47.556 DEBUG 6084 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 17:59:47.573 DEBUG 6084 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE id=?
2025-01-29 17:59:47.574 DEBUG 6084 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : ==> Parameters: 1(Long)
2025-01-29 17:59:47.603 DEBUG 6084 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectById   : <==      Total: 1
2025-01-29 17:59:48.610 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 17:59:48.610 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 17:59:48.636 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 17:59:48.708 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 17:59:48.708 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 17:59:48.736 DEBUG 6084 --- [http-nio-8081-exec-2] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 18:00:13.727 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 18:00:13.728 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 18:00:13.753 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 18:00:13.809 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 18:00:13.810 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 18:00:13.836 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 18:00:13.837 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.stock_minus   : ==>  Preparing: UPDATE tb_seckill_voucher SET stock = stock- 1 WHERE voucher_id = ? AND stock > 0
2025-01-29 18:00:13.837 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.stock_minus   : ==> Parameters: 10(Long)
2025-01-29 18:00:13.888 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.h.d.VoucherOrderMapper.stock_minus   : <==    Updates: 1
2025-01-29 18:00:13.924 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==>  Preparing: INSERT INTO tb_voucher_order ( id, user_id, voucher_id, create_time, update_time ) VALUES ( ?, ?, ?, ?, ? )
2025-01-29 18:00:13.925 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==> Parameters: 688641368179867650(Long), 1016(Long), 10(Long), 2025-01-29T18:00:13.923(LocalDateTime), 2025-01-29T18:00:13.924(LocalDateTime)
2025-01-29 18:00:13.988 DEBUG 6084 --- [http-nio-8081-exec-1] c.h.hmdp.dao.VoucherOrderMapper.insert   : <==    Updates: 1
2025-01-29 18:00:17.578  INFO 6084 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 18:00:17.638  INFO 6084 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 18:00:17.642  INFO 6084 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-01-29 18:09:21.434  INFO 12640 --- [main] com.hsj.hmdp.HmdpApplication             : Starting HmdpApplication on DESKTOP-JFH821A with PID 12640 (E:\hmdp\my_heima_dianping\target\classes started by ZhuanZ in E:\hmdp\my_heima_dianping)
2025-01-29 18:09:21.436 DEBUG 12640 --- [main] com.hsj.hmdp.HmdpApplication             : Running with Spring Boot v2.3.12.RELEASE, Spring v5.2.15.RELEASE
2025-01-29 18:09:21.436  INFO 12640 --- [main] com.hsj.hmdp.HmdpApplication             : No active profile set, falling back to default profiles: default
2025-01-29 18:09:21.841  INFO 12640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2025-01-29 18:09:21.843  INFO 12640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-29 18:09:21.859  INFO 12640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2025-01-29 18:09:22.160  INFO 12640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-01-29 18:09:22.165  INFO 12640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-29 18:09:22.165  INFO 12640 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-01-29 18:09:22.215  INFO 12640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-01-29 18:09:22.215  INFO 12640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 754 ms
2025-01-29 18:09:23.473  INFO 12640 --- [main] org.redisson.Version                     : Redisson 3.13.6
2025-01-29 18:09:23.905  INFO 12640 --- [redisson-netty-4-23] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for /121.40.226.231:6379
2025-01-29 18:09:24.119  INFO 12640 --- [redisson-netty-4-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for /121.40.226.231:6379
2025-01-29 18:09:24.257  INFO 12640 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-01-29 18:09:24.477  INFO 12640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-01-29 18:09:24.485  INFO 12640 --- [main] com.hsj.hmdp.HmdpApplication             : Started HmdpApplication in 3.28 seconds (JVM running for 3.829)
2025-01-29 18:10:19.783  INFO 12640 --- [http-nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-29 18:10:19.783  INFO 12640 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-29 18:10:19.787  INFO 12640 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-01-29 18:10:21.112  INFO 12640 --- [http-nio-8081-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-29 18:10:21.526  INFO 12640 --- [http-nio-8081-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-29 18:10:21.531 DEBUG 12640 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==>  Preparing: SELECT id,name,type_id,images,area,address,x,y,avg_price,sold,comments,score,open_hours,create_time,update_time FROM tb_shop WHERE (type_id = ?)
2025-01-29 18:10:21.543 DEBUG 12640 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectPage   : ==> Parameters: 1(Integer)
2025-01-29 18:10:21.589 DEBUG 12640 --- [http-nio-8081-exec-9] com.hsj.hmdp.dao.ShopMapper.selectPage   : <==      Total: 9
2025-01-29 18:10:22.366 DEBUG 12640 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : ==>  Preparing: SELECT v.`id`, v.`shop_id`, v.`title`, v.`sub_title`, v.`rules`, v.`pay_value`, v.`actual_value`, v.`type`, sv.`stock` , COALESCE(sv.begin_time, NOW()) AS begin_time, COALESCE(sv.end_time, DATE_ADD(NOW(), INTERVAL 1 DAY)) AS end_time FROM tb_voucher v LEFT JOIN tb_seckill_voucher sv ON v.id = sv.voucher_id WHERE v.shop_id = ? AND v.status = 1
2025-01-29 18:10:22.366 DEBUG 12640 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : ==> Parameters: 1(Long)
2025-01-29 18:10:22.472 DEBUG 12640 --- [http-nio-8081-exec-7] c.h.h.d.V.queryVoucherOfShop             : <==      Total: 2
2025-01-29 18:10:23.328 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.SeckillVoucherMapper.selectById  : ==>  Preparing: SELECT voucher_id,stock,create_time,begin_time,end_time,update_time FROM tb_seckill_voucher WHERE voucher_id=?
2025-01-29 18:10:23.328 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.SeckillVoucherMapper.selectById  : ==> Parameters: 10(Long)
2025-01-29 18:10:23.357 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.SeckillVoucherMapper.selectById  : <==      Total: 1
2025-01-29 18:10:23.430 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.selectCount   : ==>  Preparing: SELECT COUNT( * ) FROM tb_voucher_order WHERE (user_id = ? AND voucher_id = ?)
2025-01-29 18:10:23.430 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.selectCount   : ==> Parameters: 1016(Long), 10(Long)
2025-01-29 18:10:23.459 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.selectCount   : <==      Total: 1
2025-01-29 18:10:23.460 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.stock_minus   : ==>  Preparing: UPDATE tb_seckill_voucher SET stock = stock- 1 WHERE voucher_id = ? AND stock > 0
2025-01-29 18:10:23.460 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.stock_minus   : ==> Parameters: 10(Long)
2025-01-29 18:10:23.524 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.h.d.VoucherOrderMapper.stock_minus   : <==    Updates: 1
2025-01-29 18:10:23.560 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==>  Preparing: INSERT INTO tb_voucher_order ( id, user_id, voucher_id, create_time, update_time ) VALUES ( ?, ?, ?, ?, ? )
2025-01-29 18:10:23.561 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.hmdp.dao.VoucherOrderMapper.insert   : ==> Parameters: 688643988109918211(Long), 1016(Long), 10(Long), 2025-01-29T18:10:23.560(LocalDateTime), 2025-01-29T18:10:23.560(LocalDateTime)
2025-01-29 18:10:23.618 DEBUG 12640 --- [http-nio-8081-exec-6] c.h.hmdp.dao.VoucherOrderMapper.insert   : <==    Updates: 1
2025-01-29 18:10:27.944  INFO 12640 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2025-01-29 18:10:28.025  INFO 12640 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-29 18:10:28.028  INFO 12640 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
